import os
import numpy as np

pose_skel = ['SKEL' in x for x in open('A-shape.txt').readlines()]
kinematic_parents = [-1, 0, 1, 2, 3, 4, 1, 6, 7, 8, 1, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 18, 22, 23, 18, 25, 26, 18, 28, 29, 18, 31, 32, 14, 34, 35, 36, 37, 38, 39, 37, 41, 42, 37, 44, 45, 37, 47, 48, 37, 50, 51, 14, 53]
kinematic_children = [np.where(np.array(kinematic_parents) == i)[0].tolist() for i in range(len(kinematic_parents))]

pose_skel_no_finger = ['SKEL' in x and 'Finger' not in x for x in open('A-shape.txt').readlines()]
kinematic_parents_no_finger = [-1, 0, 1, 2, 3, 4, 1, 6, 7, 8, 1, 10, 11, 12, 13, 14, 15, 16, 17, 14, 19, 20, 21, 14, 23]
kinematic_children_no_finger = [np.where(np.array(kinematic_parents_no_finger) == i)[0].tolist() for i in range(len(kinematic_parents_no_finger))]

kinematic_parents_smpl = [-1,0,0,0,1,2,3,4,5,6,7,8,9,9,9,12,13,14,16,17,18,19,20,21]
kinematic_children_smpl = [[j for j in range(len(kinematic_parents_smpl)) if kinematic_parents_smpl[j] == i] for i in range(len(kinematic_parents_smpl))]

smpl_base_skeleton = np.array([[2.17368030e-03, 2.85837929e-02, -2.40789171e-01],
                                [-5.64076719e-02, 1.09197095e-02, -3.23069211e-01],
                                [ 6.24834085e-02, 1.50412615e-02, -3.31302452e-01],
                                [-2.26577066e-03, -9.80142869e-03, -1.16385621e-01],
                                [-9.98591035e-02, 1.89567121e-02, -7.09538672e-01],
                                [ 1.05740035e-01, 1.01982190e-02, -7.14990334e-01],
                                [-6.75421124e-03, 1.70188978e-02, 2.15707733e-02],
                                [-8.50687677e-02, -1.84712826e-02, -1.13641306e+00],
                                [ 8.66844890e-02, -2.43634517e-02, -1.13503592e+00],
                                [-4.48962197e-03, 1.98739448e-02, 7.76031658e-02],
                                [-1.26123132e-01, 1.03571141e-01, -1.19669901e+00],
                                [ 1.21524363e-01, 1.05959836e-01, -1.19714148e+00],
                                [ 8.90056260e-03, -1.35936332e-02, 2.89238689e-01],
                                [-7.61920978e-02, 9.75772827e-04, 1.91602856e-01],
                                [ 7.84640284e-02, -3.83344230e-03, 1.90075502e-01],
                                [-1.21264883e-03, 3.68162277e-02, 3.78176049e-01],
                                [-1.99113481e-01, -1.80702272e-02, 2.36807951e-01],
                                [ 1.91692337e-01, -1.23055110e-02, 2.36928773e-01],
                                [-4.54445377e-01, -4.10167131e-02, 2.21158923e-01],
                                [ 4.51819845e-01, -4.35742399e-02, 2.22559484e-01],
                                [-7.20154633e-01, -4.83914475e-02, 2.33857031e-01],
                                [ 7.20928227e-01, -4.96010068e-02, 2.29353205e-01],
                                [-8.06845178e-01, -6.39857393e-02, 2.23221004e-01],
                                [ 8.09681985e-01, -5.97080838e-02, 2.20701637e-01]])

joint_names = [x.split(' ')[0] for x in open('A-shape.txt').readlines()]
